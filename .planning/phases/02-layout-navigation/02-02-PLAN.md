---
phase: 02-layout-navigation
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/Hero.tsx
  - src/components/Experience.tsx
  - src/components/Skills.tsx
  - src/components/Projects.tsx
  - src/components/Education.tsx
  - src/components/Contact.tsx
  - src/components/Navigation.tsx
  - src/hooks/useActiveSection.ts
autonomous: true

must_haves:
  truths:
    - "Six section components exist with correct HTML section elements and id attributes"
    - "Navigation component renders links to all 6 sections using anchor hrefs"
    - "Navigation bar sticks to top of viewport when scrolling"
    - "Active section is highlighted in navigation as user scrolls"
    - "Navigation collapses to hamburger menu on mobile screens (below 768px)"
    - "Clicking a nav link smooth-scrolls to the target section"
  artifacts:
    - path: "src/components/Hero.tsx"
      provides: "Hero section placeholder"
      contains: "id=\"hero\""
    - path: "src/components/Experience.tsx"
      provides: "Experience section placeholder"
      contains: "id=\"experience\""
    - path: "src/components/Skills.tsx"
      provides: "Skills section placeholder"
      contains: "id=\"skills\""
    - path: "src/components/Projects.tsx"
      provides: "Projects section placeholder"
      contains: "id=\"projects\""
    - path: "src/components/Education.tsx"
      provides: "Education section placeholder"
      contains: "id=\"education\""
    - path: "src/components/Contact.tsx"
      provides: "Contact section placeholder"
      contains: "id=\"contact\""
    - path: "src/components/Navigation.tsx"
      provides: "Sticky navigation with active section highlighting"
      exports: ["Navigation"]
    - path: "src/hooks/useActiveSection.ts"
      provides: "IntersectionObserver-based scroll spy"
      exports: ["useActiveSection"]
  key_links:
    - from: "src/components/Navigation.tsx"
      to: "src/hooks/useActiveSection.ts"
      via: "import and call useActiveSection with section IDs"
      pattern: "useActiveSection"
    - from: "src/hooks/useActiveSection.ts"
      to: "document.getElementById"
      via: "IntersectionObserver observing section elements by ID"
      pattern: "IntersectionObserver"
    - from: "src/components/Navigation.tsx"
      to: "section elements"
      via: "anchor hrefs (#hero, #experience, etc.)"
      pattern: "href=.*#(hero|experience|skills|projects|education|contact)"
---

<objective>
Create the 6 section placeholder components and the sticky navigation bar with scroll-spy active section highlighting, forming the structural skeleton of the single-page layout.

Purpose: Establishes the page structure that Phase 3 (Core Content) and Phase 4 (Showcase) will populate with real content. The navigation with scroll-spy provides the primary user interaction for this phase.

Output: 6 section components, Navigation component with responsive hamburger, useActiveSection hook.
</objective>

<execution_context>
@/home/dethon/.claude/get-shit-done/workflows/execute-plan.md
@/home/dethon/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/02-layout-navigation/02-RESEARCH.md

@src/App.tsx
@src/App.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create section placeholder components</name>
  <files>
    src/components/Hero.tsx
    src/components/Experience.tsx
    src/components/Skills.tsx
    src/components/Projects.tsx
    src/components/Education.tsx
    src/components/Contact.tsx
  </files>
  <action>
Create 6 section components as placeholder shells. Each section follows the same pattern:

```tsx
export function SectionName() {
  return (
    <section id="sectionname" className="section">
      <div className="container">
        <h2>Section Title</h2>
        <p>Content coming in Phase N...</p>
      </div>
    </section>
  );
}
```

Specific sections:
- `Hero.tsx`: `id="hero"`, class `section section--hero`. This section is different -- it should be a full-viewport-height hero. Use `<h1>` (not `<h2>`) with "Juan Francisco Crespo Galan", a `<p>` subtitle "Senior Software Engineer", and a placeholder paragraph. Add class `hero` for special styling.
- `Experience.tsx`: `id="experience"`, heading "Experience"
- `Skills.tsx`: `id="skills"`, heading "Skills"
- `Projects.tsx`: `id="projects"`, heading "Projects"
- `Education.tsx`: `id="education"`, heading "Education"
- `Contact.tsx`: `id="contact"`, heading "Contact"

Each component must:
- Use named export (not default export)
- Wrap content in `<section>` with correct `id` attribute (lowercase, matching nav links)
- Include `className="section"` for consistent section styling
- Include a `<div className="container">` wrapper for max-width constraint
- Use semantic HTML (section, h2/h1, p)
- Use theme CSS variables for colors: `var(--text-primary)`, `var(--text-secondary)`, `var(--bg-primary)`, `var(--bg-secondary)`

Do NOT add complex styling yet -- sections will be populated with real content in Phase 3/4. Keep styling minimal: each section should have padding (4rem vertical on mobile, 6rem on desktop), alternating background colors using `var(--bg-primary)` and `var(--bg-secondary)`.

Add a shared CSS file `src/components/sections.css` with:
- `.section` rule: `padding: 4rem 0`, `min-height: 50vh`
- `.section--hero` rule: `min-height: 100vh`, `display: flex`, `align-items: center`
- `.container` rule: `max-width: 1200px`, `margin: 0 auto`, `padding: 0 1.5rem`
- Alternating background: `.section:nth-child(even) { background-color: var(--bg-secondary); }`
- `h1` style: `font-size: 2.5rem`, `margin-bottom: 1rem`, `color: var(--text-primary)`
- `h2` style: `font-size: 2rem`, `margin-bottom: 2rem`, `color: var(--text-primary)`
- Responsive: `@media (min-width: 768px) { .section { padding: 6rem 0; } .container { padding: 0 2rem; } h1 { font-size: 3.5rem; } }`
- Import this CSS in each section component OR import once in App.tsx
  </action>
  <verify>
    Run `npx tsc --noEmit` -- no type errors. Verify each component file exists and exports a named function. Verify each section has the correct `id` attribute.
  </verify>
  <done>
    Six section placeholder components exist at src/components/{Hero,Experience,Skills,Projects,Education,Contact}.tsx. Each renders a semantic `<section>` element with correct id attribute, container wrapper, and heading. Hero section has full-viewport height. Shared section styles provide consistent spacing and alternating backgrounds using theme CSS variables.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create scroll-spy hook and responsive Navigation component</name>
  <files>
    src/hooks/useActiveSection.ts
    src/components/Navigation.tsx
  </files>
  <action>
1. Create `src/hooks/useActiveSection.ts`:
   - Export `function useActiveSection(sectionIds: string[]): string`
   - Use `useState<string>` initialized to first section ID (e.g., 'hero')
   - Use `useEffect` with IntersectionObserver:
     - Options: `rootMargin: '-20% 0px -70% 0px'`, `threshold: [0, 0.25, 0.5, 0.75, 1.0]`
     - Callback: filter `entry.isIntersecting` entries, sort by `intersectionRatio` descending, set active to most visible section's `target.id`
     - Observe each section by `document.getElementById(id)`
     - Return cleanup function calling `observer.disconnect()` -- CRITICAL for memory leak prevention
   - `sectionIds` should be stable (use `useRef` or document that callers must pass a stable array)

2. Create `src/components/Navigation.tsx`:
   - Define `SECTIONS` constant: `['hero', 'experience', 'skills', 'projects', 'education', 'contact']` with display labels
   - Import and call `useActiveSection(SECTIONS.map(s => s.id))`
   - Render `<nav className="nav">` with `<ul>` of `<li>` items
   - Each item: `<a href={#sectionId} className={activeSection === id ? 'nav__link nav__link--active' : 'nav__link'}>Label</a>`
   - Do NOT show "Hero" in nav links -- skip hero, show only: Experience, Skills, Projects, Education, Contact (hero is the landing section, users don't navigate "to" it). Instead, show a site title/name on the left side of the nav that links to `#hero`.
   - Add hamburger menu for mobile:
     - State: `const [isMenuOpen, setIsMenuOpen] = useState(false)`
     - Hamburger button: `<button className="nav__hamburger" aria-label="Toggle menu" aria-expanded={isMenuOpen}>`
     - Show hamburger only on mobile (CSS: `display: none` above 768px)
     - When open: nav links visible as vertical dropdown. When closed: hidden on mobile.
     - Close menu when a nav link is clicked: `onClick={() => setIsMenuOpen(false)}` on each link
     - Close menu when user clicks outside (optional, nice-to-have)
   - CSS for Navigation (create `src/components/Navigation.css` or include styles):
     - `.nav`: `position: sticky`, `top: 0`, `z-index: 1000`, `background-color: var(--nav-bg)`, `backdrop-filter: blur(8px)`, `border-bottom: 1px solid var(--border)`, `transition: background-color 0.3s ease`
     - `.nav` inner layout: flexbox, `justify-content: space-between`, `align-items: center`, `max-width: 1200px`, `margin: 0 auto`, `padding: 0 1.5rem`, `height: 64px`
     - `.nav__link`: `color: var(--text-secondary)`, `transition: color 0.2s ease`, `padding: 0.5rem 0.75rem`, `font-size: 0.875rem`, `font-weight: 500`
     - `.nav__link--active`: `color: var(--accent)`, `font-weight: 600`
     - `.nav__link:hover`: `color: var(--text-primary)`
     - Mobile (below 768px): nav links in a vertical column, hidden by default, shown when `.nav--open`
     - Desktop (768px+): `.nav__hamburger { display: none }`, links in horizontal row
     - `.nav__hamburger`: 3-line icon using CSS (three spans styled as horizontal bars) or SVG. `background: none`, `border: none`, `cursor: pointer`, `color: var(--text-primary)`
  </action>
  <verify>
    Run `npx tsc --noEmit` -- no type errors. Run `npm run build` -- succeeds. Verify Navigation.tsx imports useActiveSection. Verify useActiveSection creates an IntersectionObserver with disconnect cleanup. Verify Navigation renders anchor links with `href="#sectionId"` pattern.
  </verify>
  <done>
    useActiveSection hook uses IntersectionObserver to detect visible sections with proper cleanup. Navigation component renders sticky nav bar with section links, active highlighting via CSS class, and responsive hamburger menu for mobile. Nav links use anchor hrefs for smooth scroll (handled by CSS scroll-behavior). Build passes.
  </done>
</task>

</tasks>

<verification>
1. `npm run build` succeeds
2. `npx tsc --noEmit` passes
3. All 6 section components exist with correct id attributes
4. Navigation.tsx renders anchor links to all sections
5. useActiveSection.ts uses IntersectionObserver with disconnect() cleanup
6. Navigation has hamburger menu markup with aria-expanded attribute
</verification>

<success_criteria>
- Six section placeholders render with semantic HTML, correct ids, and theme-aware styling
- Navigation bar sticks to top with z-index above content
- Active section is detected via IntersectionObserver (not scroll events)
- Nav links use anchor hrefs -- smooth scrolling handled by CSS scroll-behavior
- Mobile navigation shows hamburger toggle, desktop shows horizontal links
- All components use CSS custom properties from theme.css
- Build passes cleanly
</success_criteria>

<output>
After completion, create `.planning/phases/02-layout-navigation/02-02-SUMMARY.md`
</output>
